<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ–∑–¥–∞–π —Å–≤–æ—é —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
        
        body {
            font-family: 'Share Tech Mono', monospace;
            overflow-x: hidden;
            color: #00ff41;
            background-color: #000;
        }
        
        .matrix-text {
            text-shadow: 0 0 5px #00ff41;
        }
        
        .matrix-border {
            border: 1px solid #00ff41;
            box-shadow: 0 0 10px #00ff41;
        }
        
        .rain {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .drop {
            position: absolute;
            width: 1px;
            background: #00ff41;
            animation: fall linear infinite;
        }
        
        @keyframes fall {
            to {
                transform: translateY(100vh);
            }
        }
        
        .btn-matrix {
            background: transparent;
            color: #00ff41;
            border: 1px solid #00ff41;
            padding: 15px 30px;
            font-size: 18px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }
        
        .btn-matrix:hover {
            box-shadow: 0 0 10px #00ff41, 0 0 20px #00ff41;
            text-shadow: 0 0 5px #00ff41;
        }
        
        .btn-matrix::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 65, 0.4), transparent);
            transition: all 0.5s;
        }
        
        .btn-matrix:hover::before {
            left: 100%;
        }
        
        .sphere-btn {
            transition: all 0.3s;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            cursor: pointer;
        }
        
        .sphere-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px #00ff41;
        }
        
        .character-container {
            width: 300px;
            height: 400px;
            margin: 0 auto;
            position: relative;
        }
        
        .progress-level {
            height: 20px;
            background: #111;
            border: 1px solid #00ff41;
            position: relative;
        }
        
        .progress-level::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: #00ff41;
            width: var(--progress);
        }
        
        .habit-tracker .habit-item {
            border-bottom: 1px dashed #00ff41;
            padding: 10px 0;
        }
        
        .habit-tracker .habit-checkbox {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 1px solid #00ff41;
            background: transparent;
            cursor: pointer;
            position: relative;
        }
        
        .habit-tracker .habit-checkbox:checked::before {
            content: '‚úì';
            position: absolute;
            color: #00ff41;
            font-size: 16px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .task-item.completed {
            text-decoration: line-through;
            color: #666;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
        }
        
        .modal-content {
            background-color: #000;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #00ff41;
            width: 80%;
            max-width: 800px;
            position: relative;
        }
        
        .close {
            color: #00ff41;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover {
            color: #fff;
        }
        
        #vanta-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
    </style>
</head>
<body>
    <div id="vanta-canvas"></div>
    <div id="rain" class="rain"></div>
    
    <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    <div id="main-page" class="min-h-screen flex flex-col items-center justify-center p-4">
        <div class="text-center mb-12">
            <h1 class="text-4xl md:text-6xl font-bold mb-6 matrix-text">–ü–†–ò–®–õ–û –í–†–ï–ú–Ø –°–û–ó–î–ê–¢–¨ –°–í–û–Æ –õ–£–ß–®–£–Æ –†–ï–ê–õ–¨–ù–û–°–¢–¨</h1>
            <p class="text-xl md:text-2xl mb-8 matrix-text">–ù–∞—á–Ω–∏ —Å–≤–æ–π –ø—É—Ç—å –∫ –∏–¥–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å</p>
        </div>
        
        <button id="login-btn" class="btn-matrix mb-8 animate-pulse">
            –í–û–ô–¢–ò
        </button>
        
        <button id="dev-login-btn" class="text-xs text-gray-400 hover:text-gray-200">
            –í—Ö–æ–¥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
        </button>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 class="text-2xl mb-6 text-center matrix-text">–í–•–û–î –í –°–ò–°–¢–ï–ú–£</h2>
            
            <div class="mb-4">
                <label class="block mb-2">–ù–∏–∫–Ω–µ–π–º:</label>
                <input type="text" id="login-username" class="w-full p-2 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400">
            </div>
            
            <div class="mb-6">
                <label class="block mb-2">–ü–∞—Ä–æ–ª—å:</label>
                <input type="password" id="login-password" class="w-full p-2 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400">
            </div>
            
            <button id="submit-login" class="btn-matrix w-full mb-4">–í–û–ô–¢–ò</button>
            
            <p class="text-center mb-2">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?</p>
            <button id="show-register" class="text-green-400 hover:text-white w-full text-center">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div id="register-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 class="text-2xl mb-6 text-center matrix-text">–†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block mb-2">–ù–∏–∫–Ω–µ–π–º:</label>
                    <input type="text" id="reg-username" class="w-full p-2 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400">
                </div>
                
                <div>
                    <label class="block mb-2">–ü–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="reg-password" class="w-full p-2 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400">
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block mb-2">–ò–º—è:</label>
                    <input type="text" id="reg-name" class="w-full p-2 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400">
                </div>
                
                <div>
                    <label class="block mb-2">–í–æ–∑—Ä–∞—Å—Ç:</label>
                    <input type="number" id="reg-age" class="w-full p-2 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400">
                </div>
            </div>
            
            <div class="mb-6">
                <label class="block mb-2">–ü–æ–ª:</label>
                <div class="flex space-x-4">
                    <label class="flex items-center">
                        <input type="radio" name="gender" value="male" class="mr-2" checked>
                        –ú—É–∂—Å–∫–æ–π
                    </label>
                    <label class="flex items-center">
                        <input type="radio" name="gender" value="female" class="mr-2">
                        –ñ–µ–Ω—Å–∫–∏–π
                    </label>
                    <label class="flex items-center">
                        <input type="radio" name="gender" value="other" class="mr-2">
                        –î—Ä—É–≥–æ–π
                    </label>
                </div>
            </div>
            
            <button id="submit-register" class="btn-matrix w-full mb-4">–ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–¢–¨–°–Ø</button>
            
            <p class="text-center mb-2">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?</p>
            <button id="show-login" class="text-green-400 hover:text-white w-full text-center">–í–æ–π—Ç–∏</button>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ -->
    <div id="dev-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 class="text-2xl mb-6 text-center matrix-text">–í–•–û–î –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê</h2>
            
            <div class="mb-6">
                <label class="block mb-2">–ü–∞—Ä–æ–ª—å:</label>
                <input type="password" id="dev-password" class="w-full p-2 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400">
            </div>
            
            <button id="submit-dev" class="btn-matrix w-full mb-4">–ü–û–î–¢–í–ï–†–î–ò–¢–¨</button>
        </div>
    </div>
    
    <!-- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É) -->
    <div id="user-database" class="hidden min-h-screen p-8">
        <h2 class="text-3xl mb-8 text-center matrix-text">–ë–ê–ó–ê –î–ê–ù–ù–´–• –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô</h2>
        
        <div class="overflow-x-auto">
            <table class="w-full border-collapse border border-green-400">
                <thead>
                    <tr class="border-b border-green-400">
                        <th class="p-3 text-left">ID</th>
                        <th class="p-3 text-left">–ù–∏–∫–Ω–µ–π–º</th>
                        <th class="p-3 text-left">–ò–º—è</th>
                        <th class="p-3 text-left">–í–æ–∑—Ä–∞—Å—Ç</th>
                        <th class="p-3 text-left">–ü–æ–ª</th>
                        <th class="p-3 text-left">–ü–∞—Ä–æ–ª—å</th>
                        <th class="p-3 text-left">–£—Ä–æ–≤–µ–Ω—å</th>
                        <th class="p-3 text-left">–û—á–∫–∏</th>
                    </tr>
                </thead>
                <tbody id="user-table-body">
                    <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </tbody>
            </table>
        </div>
        
        <button id="back-to-main" class="btn-matrix mt-8">–ù–ê–ó–ê–î</button>
    </div>
    
    <!-- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div id="user-dashboard" class="hidden min-h-screen p-4 md:p-8">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-2xl md:text-3xl matrix-text">–ú–û–Ø –†–ï–ê–õ–¨–ù–û–°–¢–¨</h2>
            <div class="flex items-center space-x-4">
                <span id="user-level" class="text-xl">–£—Ä–æ–≤–µ–Ω—å: 1</span>
                <span id="user-points" class="text-xl">–û—á–∫–∏: 0</span>
                <button id="profile-btn" class="btn-matrix px-4 py-2">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</button>
                <button id="logout-btn" class="btn-matrix px-4 py-2">–í—ã–π—Ç–∏</button>
            </div>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
            <!-- –ú–æ—Ç–∏–≤–∞—Ü–∏—è –¥–Ω—è -->
            <div class="matrix-border p-6">
                <h3 class="text-xl mb-4 matrix-text">–ú–û–¢–ò–í–ê–¶–ò–Ø –î–ù–Ø</h3>
                <p id="daily-motivation" class="mb-4">–°–µ–≥–æ–¥–Ω—è —Ç–≤–æ–π –¥–µ–Ω—å! –°–¥–µ–ª–∞–π —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —à–∞–≥ –∫ —Å–≤–æ–µ–π –º–µ—á—Ç–µ, –∏ —Ç—ã –±—É–¥–µ—à—å –Ω–∞ —à–∞–≥ –±–ª–∏–∂–µ –∫ —Ü–µ–ª–∏.</p>
                <button id="new-motivation" class="btn-matrix px-4 py-2 text-sm">–ù–æ–≤–∞—è –º–æ—Ç–∏–≤–∞—Ü–∏—è</button>
            </div>
            
            <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
            <div class="matrix-border p-6">
                <h3 class="text-xl mb-4 matrix-text">–ö–ê–õ–ï–ù–î–ê–†–¨</h3>
                <div id="calendar" class="mb-4">
                    <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ JS -->
                </div>
                <button id="add-event" class="btn-matrix px-4 py-2 text-sm">–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ</button>
            </div>
            
            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å -->
            <div class="matrix-border p-6">
                <h3 class="text-xl mb-4 matrix-text">–ú–û–ô –ü–†–û–ì–†–ï–°–°</h3>
                <div class="progress-level mb-2" style="--progress: 10%"></div>
                <p>–ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ—Ñ–∏–ª—è: 10%</p>
            </div>
        </div>
        
        <!-- –°—Ñ–µ—Ä—ã –∂–∏–∑–Ω–∏ -->
        <h3 class="text-2xl mb-6 matrix-text">–°–§–ï–†–´ –ñ–ò–ó–ù–ò</h3>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-12">
            <!-- –°—Ñ–µ—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
        </div>
        
        <!-- –î–Ω–µ–≤–Ω–∏–∫ –∏ —Ç—Ä–µ–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫ -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
            <!-- –î–Ω–µ–≤–Ω–∏–∫ -->
            <div class="matrix-border p-6">
                <h3 class="text-xl mb-4 matrix-text">–î–ù–ï–í–ù–ò–ö</h3>
                <textarea id="diary-entry" class="w-full h-40 p-3 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400 mb-4" placeholder="–û–ø–∏—à–∏ —Å–≤–æ–π –¥–µ–Ω—å..."></textarea>
                <button id="save-diary" class="btn-matrix px-4 py-2">–°–û–•–†–ê–ù–ò–¢–¨</button>
            </div>
            
            <!-- –¢—Ä–µ–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫ -->
            <div class="matrix-border p-6">
                <h3 class="text-xl mb-4 matrix-text">–¢–†–ï–ö–ï–† –ü–†–ò–í–´–ß–ï–ö</h3>
                <div class="habit-tracker mb-4">
                    <!-- –ü—Ä–∏–≤—ã—á–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
                <button id="add-habit" class="btn-matrix px-4 py-2 text-sm mr-2">+ –ü—Ä–∏–≤—ã—á–∫–∞</button>
                <button id="add-task" class="btn-matrix px-4 py-2 text-sm">+ –ó–∞–¥–∞—á–∞</button>
            </div>
        </div>
        
        <!-- –¢–æ—á–∫–∞ –ê –∏ —Ç–æ—á–∫–∞ –ë -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
            <div class="matrix-border p-6">
                <h3 class="text-xl mb-4 matrix-text">–¢–û–ß–ö–ê –ê</h3>
                <p class="mb-4">–ì–¥–µ —è —Å–µ–π—á–∞—Å?</p>
                <textarea id="point-a" class="w-full h-40 p-3 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400 mb-4" placeholder="–û–ø–∏—à–∏ —Å–≤–æ—é —Ç–µ–∫—É—â—É—é —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å..."></textarea>
                <button id="save-point-a" class="btn-matrix px-4 py-2">–°–û–•–†–ê–ù–ò–¢–¨</button>
            </div>
            
            <div class="matrix-border p-6">
                <h3 class="text-xl mb-4 matrix-text">–¢–û–ß–ö–ê –ë</h3>
                <p class="mb-4">–ö—É–¥–∞ —è –∏–¥—É?</p>
                <textarea id="point-b" class="w-full h-40 p-3 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400 mb-4" placeholder="–û–ø–∏—à–∏ —Å–≤–æ—é –∂–µ–ª–∞–µ–º—É—é —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å..."></textarea>
                <button id="save-point-b" class="btn-matrix px-4 py-2">–°–û–•–†–ê–ù–ò–¢–¨</button>
            </div>
        </div>
    </div>
    
    <!-- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å 3D –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º -->
    <div id="user-profile" class="hidden min-h-screen p-8">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-3xl matrix-text">–ú–û–ô –ü–†–û–§–ò–õ–¨</h2>
            <button id="back-to-dashboard" class="btn-matrix px-4 py-2">–ù–ê–ó–ê–î</button>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="matrix-border p-6">
                <h3 class="text-xl mb-4 matrix-text">–ò–ù–§–û–†–ú–ê–¶–ò–Ø</h3>
                
                <div class="mb-4">
                    <label class="block mb-2">–ò–º—è:</label>
                    <input type="text" id="profile-name" class="w-full p-2 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400">
                </div>
                
                <div class="mb-4">
                    <label class="block mb-2">–í–æ–∑—Ä–∞—Å—Ç:</label>
                    <input type="number" id="profile-age" class="w-full p-2 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400">
                </div>
                
                <div class="mb-6">
                    <label class="block mb-2">–ü–æ–ª:</label>
                    <div class="flex space-x-4">
                        <label class="flex items-center">
                            <input type="radio" name="profile-gender" value="male" class="mr-2">
                            –ú—É–∂—Å–∫–æ–π
                        </label>
                        <label class="flex items-center">
                            <input type="radio" name="profile-gender" value="female" class="mr-2">
                            –ñ–µ–Ω—Å–∫–∏–π
                        </label>
                        <label class="flex items-center">
                            <input type="radio" name="profile-gender" value="other" class="mr-2">
                            –î—Ä—É–≥–æ–π
                        </label>
                    </div>
                </div>
                
                <button id="save-profile" class="btn-matrix w-full">–°–û–•–†–ê–ù–ò–¢–¨</button>
            </div>
            
            <div class="flex flex-col items-center justify-center">
                <div class="character-container mb-6" id="character-container">
                    <!-- 3D –ø–µ—Ä—Å–æ–Ω–∞–∂ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                </div>
                <div class="text-center">
                    <h3 id="character-name" class="text-2xl mb-2 matrix-text">–ò–ú–Ø</h3>
                    <p id="character-level" class="text-lg">–£—Ä–æ–≤–µ–Ω—å: 1</p>
                </div>
            </div>
            
            <div class="matrix-border p-6">
                <h3 class="text-xl mb-4 matrix-text">–î–û–°–¢–ò–ñ–ï–ù–ò–Ø</h3>
                <div class="mb-4">
                    <p class="mb-2">–ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ—Ñ–∏–ª—è:</p>
                    <div class="progress-level mb-2" style="--progress: 10%"></div>
                </div>
                
                <div class="mb-4">
                    <p class="mb-2">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:</p>
                    <ul class="list-disc pl-5">
                        <li>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ</li>
                    </ul>
                </div>
                
                <div>
                    <p class="mb-2">–ë–ª–∏–∂–∞–π—à–∏–µ —Ü–µ–ª–∏:</p>
                    <ul class="list-disc pl-5">
                        <li>–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞ 50%</li>
                        <li>–î–æ–±–∞–≤–∏—Ç—å 3 –ø—Ä–∏–≤—ã—á–∫–∏</li>
                        <li>–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¢–æ—á–∫—É –ë</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ñ–µ—Ä—ã –∂–∏–∑–Ω–∏ -->
    <div id="life-sphere" class="hidden min-h-screen p-8">
        <div class="flex justify-between items-center mb-8">
            <h2 id="sphere-title" class="text-3xl matrix-text">–°–§–ï–†–ê –ñ–ò–ó–ù–ò</h2>
            <button id="back-to-spheres" class="btn-matrix px-4 py-2">–ù–ê–ó–ê–î</button>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
            <div class="matrix-border p-6">
                <h3 class="text-xl mb-4 matrix-text">–¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï</h3>
                <p id="sphere-current" class="mb-4">–û–ø–∏—à–∏ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —ç—Ç–æ–π —Å—Ñ–µ—Ä—ã —Ç–≤–æ–µ–π –∂–∏–∑–Ω–∏.</p>
                <textarea id="sphere-current-text" class="w-full h-40 p-3 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400 mb-4" placeholder="–ö–∞–∫ –æ–±—Å—Ç–æ—è—Ç –¥–µ–ª–∞ –≤ —ç—Ç–æ–π —Å—Ñ–µ—Ä–µ?"></textarea>
                <button id="save-current-state" class="btn-matrix w-full">–°–û–•–†–ê–ù–ò–¢–¨</button>
            </div>
            
            <div class="matrix-border p-6">
                <h3 class="text-xl mb-4 matrix-text">–¶–ï–õ–ò</h3>
                <div id="sphere-goals" class="mb-4">
                    <!-- –¶–µ–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
                <div class="flex">
                    <input type="text" id="new-goal" class="flex-grow p-2 bg-black border border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400" placeholder="–ù–æ–≤–∞—è —Ü–µ–ª—å">
                    <button id="add-goal" class="btn-matrix px-4 py-2 ml-2">+</button>
                </div>
            </div>
            
            <div class="matrix-border p-6">
                <h3 class="text-xl mb-4 matrix-text">–ü–†–û–ì–†–ï–°–°</h3>
                <div class="mb-6">
                    <p class="mb-2">–£—Ä–æ–≤–µ–Ω—å —Ä–∞–∑–≤–∏—Ç–∏—è:</p>
                    <input type="range" id="sphere-level" min="0" max="10" value="0" class="w-full">
                    <p id="sphere-level-value" class="text-center">0/10</p>
                </div>
                
                <div>
                    <p class="mb-2">–î–µ–π—Å—Ç–≤–∏—è:</p>
                    <button id="add-sphere-task" class="btn-matrix px-4 py-2 text-sm mb-2 w-full">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
                    <button id="add-sphere-habit" class="btn-matrix px-4 py-2 text-sm w-full">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É</button>
                </div>
            </div>
        </div>
        
        <div class="matrix-border p-6">
            <h3 class="text-xl mb-4 matrix-text">–ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô</h3>
            <div id="sphere-tasks">
                <!-- –ó–∞–¥–∞—á–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>
    </div>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (localStorage)
        let usersDB = JSON.parse(localStorage.getItem('usersDB')) || [];
        let currentUser = null;
        let currentSphere = null;
        
        // –°—Ñ–µ—Ä—ã –∂–∏–∑–Ω–∏
        const lifeSpheres = [
            { id: 'health', name: '–ó–¥–æ—Ä–æ–≤—å–µ', color: '#00ff41', icon: '‚ù§Ô∏è' },
            { id: 'finance', name: '–§–∏–Ω–∞–Ω—Å—ã', color: '#00ff41', icon: 'üí∞' },
            { id: 'career', name: '–ö–∞—Ä—å–µ—Ä–∞', color: '#00ff41', icon: 'üíº' },
            { id: 'relationships', name: '–û—Ç–Ω–æ—à–µ–Ω–∏—è', color: '#00ff41', icon: 'üë•' },
            { id: 'personal-growth', name: '–õ–∏—á–Ω–æ—Å—Ç–Ω—ã–π —Ä–æ—Å—Ç', color: '#00ff41', icon: 'üìö' },
            { id: 'hobbies', name: '–•–æ–±–±–∏ –∏ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ', color: '#00ff41', icon: 'üé®' },
            { id: 'environment', name: '–û–∫—Ä—É–∂–µ–Ω–∏–µ', color: '#00ff41', icon: 'üåç' },
            { id: 'spirituality', name: '–î—É—Ö–æ–≤–Ω–æ—Å—Ç—å', color: '#00ff41', icon: 'üïäÔ∏è' }
        ];
        
        // –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ü–∏—Ç–∞—Ç—ã
        const motivations = [
            "–°–µ–≥–æ–¥–Ω—è —Ç–≤–æ–π –¥–µ–Ω—å! –°–¥–µ–ª–∞–π —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —à–∞–≥ –∫ —Å–≤–æ–µ–π –º–µ—á—Ç–µ, –∏ —Ç—ã –±—É–¥–µ—à—å –Ω–∞ —à–∞–≥ –±–ª–∏–∂–µ –∫ —Ü–µ–ª–∏.",
            "–£—Å–ø–µ—Ö ‚Äî —ç—Ç–æ —Å—É–º–º–∞ –Ω–µ–±–æ–ª—å—à–∏—Ö —É—Å–∏–ª–∏–π, –ø–æ–≤—Ç–æ—Ä—è–µ–º—ã—Ö –∏–∑–æ –¥–Ω—è –≤ –¥–µ–Ω—å.",
            "–ù–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–π –Ω–∞ –∑–∞–≤—Ç—Ä–∞ —Ç–æ, —á—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è.",
            "–¢—ã —Å–∏–ª—å–Ω–µ–µ, —á–µ–º –¥—É–º–∞–µ—à—å. –ü—Ä–æ—è–≤–∏ —Å–µ–±—è —Å–µ–≥–æ–¥–Ω—è!",
            "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Äî —ç—Ç–æ –Ω–æ–≤–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ—é –∂–∏–∑–Ω—å.",
            "–ú–∞–ª—ã–µ —à–∞–≥–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –±–æ–ª—å—à–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º.",
            "–í–µ—Ä—å –≤ —Å–µ–±—è, –∏ —É —Ç–µ–±—è –≤—Å—ë –ø–æ–ª—É—á–∏—Ç—Å—è!",
            "–°–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ —É—Å–∏–ª–∏—è ‚Äî –∑–∞–≤—Ç—Ä–∞—à–Ω–∏–µ –ø–æ–±–µ–¥—ã."
        ];
        
        // –ü—Ä–∏–≤—ã—á–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        const defaultHabits = [
            { name: "–£—Ç—Ä–µ–Ω–Ω—è—è –∑–∞—Ä—è–¥–∫–∞", checked: false },
            { name: "–ß—Ç–µ–Ω–∏–µ 20 –º–∏–Ω—É—Ç", checked: false },
            { name: "–ü–∏—Ç—å –≤–æ–¥—É", checked: false }
        ];
        
        // –ó–∞–¥–∞—á–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        const defaultTasks = [
            { name: "–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å", completed: false },
            { name: "–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ü–µ–ª–∏", completed: false }
        ];
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Vanta.js (–º–∞—Ç—Ä–∏—á–Ω—ã–π —Ñ–æ–Ω)
        document.addEventListener('DOMContentLoaded', function() {
            VANTA.NET({
                el: "#vanta-canvas",
                mouseControls: true,
                touchControls: true,
                gyroControls: false,
                minHeight: 200.00,
                minWidth: 200.00,
                scale: 1.00,
                scaleMobile: 1.00,
                color: 0x00ff41,
                backgroundColor: 0x0,
                points: 10.00,
                maxDistance: 22.00,
                spacing: 17.00
            });
            
            // –°–æ–∑–¥–∞–µ–º –¥–æ–∂–¥—å
            createRain();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
            initCalendar();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ñ–µ—Ä –∂–∏–∑–Ω–∏
            initLifeSpheres();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è 3D –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
            initCharacter();
            
            // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
            setupEventListeners();
        });
        
        function createRain() {
            const rainContainer = document.getElementById('rain');
            const dropsCount = 100;
            
            for (let i = 0; i < dropsCount; i++) {
                const drop = document.createElement('div');
                drop.className = 'drop';
                
                // –°–ª—É—á–∞–π–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–ø–ª–∏
                const left = Math.random() * 100;
                const duration = Math.random() * 1 + 0.5;
                const delay = Math.random() * 2;
                const height = Math.random() * 20 + 10;
                
                drop.style.left = `${left}%`;
                drop.style.height = `${height}px`;
                drop.style.animationDuration = `${duration}s`;
                drop.style.animationDelay = `${delay}s`;
                
                rainContainer.appendChild(drop);
            }
        }
        
        function initCalendar() {
            const calendar = document.getElementById('calendar');
            const now = new Date();
            const month = now.toLocaleString('ru', { month: 'long' });
            const year = now.getFullYear();
            
            calendar.innerHTML = `
                <div class="text-center mb-2">
                    <h4 class="text-lg">${month} ${year}</h4>
                </div>
                <div class="grid grid-cols-7 gap-1 text-center">
                    <div class="text-sm">–ü–Ω</div>
                    <div class="text-sm">–í—Ç</div>
                    <div class="text-sm">–°—Ä</div>
                    <div class="text-sm">–ß—Ç</div>
                    <div class="text-sm">–ü—Ç</div>
                    <div class="text-sm">–°–±</div>
                    <div class="text-sm">–í—Å</div>
                    
                    ${generateCalendarDays(now)}
                </div>
            `;
        }
        
        function generateCalendarDays(date) {
            const year = date.getFullYear();
            const month = date.getMonth();
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –¥–ª—è –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞ –∫–∞–∫ –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è –Ω–µ–¥–µ–ª–∏
            const firstDayIndex = firstDay === 0 ? 6 : firstDay - 1;
            
            let daysHtml = '';
            
            // –ü—É—Å—Ç—ã–µ —è—á–µ–π–∫–∏ –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –¥–Ω–µ–º –º–µ—Å—è—Ü–∞
            for (let i = 0; i < firstDayIndex; i++) {
                daysHtml += '<div class="h-8"></div>';
            }
            
            // –î–Ω–∏ –º–µ—Å—è—Ü–∞
            for (let i = 1; i <= daysInMonth; i++) {
                const isToday = i === date.getDate() && month === new Date().getMonth() && year === new Date().getFullYear();
                daysHtml += `
                    <div class="h-8 flex items-center justify-center ${isToday ? 'bg-green-400 text-black' : ''}">
                        ${i}
                    </div>
                `;
            }
            
            return daysHtml;
        }
        
        function initLifeSpheres() {
            const spheresContainer = document.querySelector('#user-dashboard .grid.grid-cols-2.md\\:grid-cols-4.gap-6');
            
            lifeSpheres.forEach(sphere => {
                const sphereElement = document.createElement('div');
                sphereElement.className = 'sphere-btn matrix-border flex flex-col items-center justify-center p-4 cursor-pointer';
                sphereElement.style.borderColor = sphere.color;
                sphereElement.dataset.sphereId = sphere.id;
                
                sphereElement.innerHTML = `
                    <span class="text-3xl mb-2">${sphere.icon}</span>
                    <h4 class="text-center">${sphere.name}</h4>
                    <div class="mt-2 w-full bg-gray-800 rounded-full h-2.5">
                        <div class="bg-green-400 h-2.5 rounded-full" style="width: 0%"></div>
                    </div>
                `;
                
                spheresContainer.appendChild(sphereElement);
            });
        }
        
        function initCharacter() {
            const container = document.getElementById('character-container');
            
            // –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è 3D –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ —Å Three.js
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, 300 / 400, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true });
            renderer.setSize(300, 400);
            container.appendChild(renderer.domElement);
            
            // –û—Å–≤–µ—â–µ–Ω–∏–µ
            const light = new THREE.AmbientLight(0x00ff41, 0.5);
            scene.add(light);
            
            const directionalLight = new THREE.DirectionalLight(0x00ff41, 0.8);
            directionalLight.position.set(0, 1, 1);
            scene.add(directionalLight);
            
            // –°–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—É—é –º–æ–¥–µ–ª—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–∫—É–± –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞)
            const geometry = new THREE.BoxGeometry(1, 1, 1);
            const material = new THREE.MeshPhongMaterial({ 
                color: 0x00ff41,
                emissive: 0x003300,
                specular: 0x00ff00,
                shininess: 30,
                wireframe: true
            });
            
            const cube = new THREE.Mesh(geometry, material);
            scene.add(cube);
            
            camera.position.z = 2;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è
            function animate() {
                requestAnimationFrame(animate);
                cube.rotation.x += 0.01;
                cube.rotation.y += 0.01;
                renderer.render(scene, camera);
            }
            
            animate();
        }
        
        function setupEventListeners() {
            // –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
            document.getElementById('login-btn').addEventListener('click', () => {
                document.getElementById('login-modal').style.display = 'block';
            });
            
            document.getElementById('dev-login-btn').addEventListener('click', () => {
                document.getElementById('dev-modal').style.display = 'block';
            });
            
            // –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                modal.querySelector('.close').addEventListener('click', () => {
                    modal.style.display = 'none';
                });
            });
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤—Ö–æ–¥–æ–º –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π
            document.getElementById('show-register').addEventListener('click', () => {
                document.getElementById('login-modal').style.display = 'none';
                document.getElementById('register-modal').style.display = 'block';
            });
            
            document.getElementById('show-login').addEventListener('click', () => {
                document.getElementById('register-modal').style.display = 'none';
                document.getElementById('login-modal').style.display = 'block';
            });
            
            // –í—Ö–æ–¥
            document.getElementById('submit-login').addEventListener('click', loginUser);
            
            // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
            document.getElementById('submit-register').addEventListener('click', registerUser);
            
            // –í—Ö–æ–¥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
            document.getElementById('submit-dev').addEventListener('click', () => {
                const password = document.getElementById('dev-password').value;
                
                if (password === '78') {
                    document.getElementById('dev-modal').style.display = 'none';
                    showUserDatabase();
                } else {
                    alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞');
                }
            });
            
            // –ù–∞–∑–∞–¥ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
            document.getElementById('back-to-main').addEventListener('click', () => {
                document.getElementById('user-database').classList.add('hidden');
                document.getElementById('main-page').classList.remove('hidden');
            });
            
            // –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
            document.getElementById('profile-btn').addEventListener('click', showUserProfile);
            document.getElementById('logout-btn').addEventListener('click', logoutUser);
            document.getElementById('back-to-dashboard').addEventListener('click', () => {
                document.getElementById('user-profile').classList.add('hidden');
                document.getElementById('user-dashboard').classList.remove('hidden');
            });
            
            // –ù–æ–≤–∞—è –º–æ—Ç–∏–≤–∞—Ü–∏—è
            document.getElementById('new-motivation').addEventListener('click', () => {
                const randomMotivation = motivations[Math.floor(Math.random() * motivations.length)];
                document.getElementById('daily-motivation').textContent = randomMotivation;
            });
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω–∏–∫–∞
            document.getElementById('save-diary').addEventListener('click', saveDiary);
            
            // –¢–æ—á–∫–∏ –ê –∏ –ë
            document.getElementById('save-point-a').addEventListener('click', savePointA);
            document.getElementById('save-point-b').addEventListener('click', savePointB);
            
            // –ü—Ä–∏–≤—ã—á–∫–∏ –∏ –∑–∞–¥–∞—á–∏
            document.getElementById('add-habit').addEventListener('click', addNewHabit);
            document.getElementById('add-task').addEventListener('click', addNewTask);
            
            // –°—Ñ–µ—Ä—ã –∂–∏–∑–Ω–∏
            document.querySelectorAll('.sphere-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const sphereId = this.dataset.sphereId;
                    showLifeSphere(sphereId);
                });
            });
            
            // –ù–∞–∑–∞–¥ –∏–∑ —Å—Ñ–µ—Ä—ã –∂–∏–∑–Ω–∏
            document.getElementById('back-to-spheres').addEventListener('click', () => {
                document.getElementById('life-sphere').classList.add('hidden');
                document.getElementById('user-dashboard').classList.remove('hidden');
            });
            
            // –£—Ä–æ–≤–µ–Ω—å —Å—Ñ–µ—Ä—ã –∂–∏–∑–Ω–∏
            document.getElementById('sphere-level').addEventListener('input', function() {
                document.getElementById('sphere-level-value').textContent = `${this.value}/10`;
            });
            
            // –¶–µ–ª–∏ –≤ —Å—Ñ–µ—Ä–µ –∂–∏–∑–Ω–∏
            document.getElementById('add-goal').addEventListener('click', addSphereGoal);
        }
        
        function loginUser() {
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            
            const user = usersDB.find(u => u.username === username && u.password === password);
            
            if (user) {
                currentUser = user;
                document.getElementById('login-modal').style.display = 'none';
                showUserDashboard();
            } else {
                alert('–ù–µ–≤–µ—Ä–Ω—ã–π –Ω–∏–∫–Ω–µ–π–º –∏–ª–∏ –ø–∞—Ä–æ–ª—å');
            }
        }
        
        function registerUser() {
            const username = document.getElementById('reg-username').value;
            const password = document.getElementById('reg-password').value;
            const name = document.getElementById('reg-name').value;
            const age = document.getElementById('reg-age').value;
            const gender = document.querySelector('input[name="gender"]:checked').value;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            if (usersDB.some(u => u.username === username)) {
                alert('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –Ω–∏–∫–Ω–µ–π–º–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç');
                return;
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const newUser = {
                id: Date.now().toString(),
                username,
                password,
                name,
                age,
                gender,
                level: 1,
                points: 0,
                spheres: lifeSpheres.map(sphere => ({
                    id: sphere.id,
                    level: 0,
                    currentState: '',
                    goals: [],
                    tasks: []
                })),
                habits: defaultHabits,
                tasks: defaultTasks,
                pointA: '',
                pointB: '',
                diary: [],
                lastLogin: new Date().toISOString()
            };
            
            usersDB.push(newUser);
            localStorage.setItem('usersDB', JSON.stringify(usersDB));
            
            currentUser = newUser;
            document.getElementById('register-modal').style.display = 'none';
            showUserDashboard();
        }
        
        function logoutUser() {
            currentUser = null;
            document.getElementById('user-dashboard').classList.add('hidden');
            document.getElementById('main-page').classList.remove('hidden');
        }
        
        function showUserDashboard() {
            document.getElementById('main-page').classList.add('hidden');
            document.getElementById('user-dashboard').classList.remove('hidden');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            document.getElementById('user-level').textContent = `–£—Ä–æ–≤–µ–Ω—å: ${currentUser.level}`;
            document.getElementById('user-points').textContent = `–û—á–∫–∏: ${currentUser.points}`;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–∏–≤—ã—á–∫–∏
            loadHabits();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–¥–∞—á–∏
            loadTasks();
        }
        
        function showUserProfile() {
            document.getElementById('user-dashboard').classList.add('hidden');
            document.getElementById('user-profile').classList.remove('hidden');
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è
            document.getElementById('profile-name').value = currentUser.name || '';
            document.getElementById('profile-age').value = currentUser.age || '';
            
            const genderRadios = document.getElementsByName('profile-gender');
            for (let radio of genderRadios) {
                if (radio.value === currentUser.gender) {
                    radio.checked = true;
                    break;
                }
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
            document.getElementById('character-name').textContent = currentUser.name || '–ò–ú–Ø';
            document.getElementById('character-level').textContent = `–£—Ä–æ–≤–µ–Ω—å: ${currentUser.level}`;
        }
        
        function showUserDatabase() {
            document.getElementById('main-page').classList.add('hidden');
            document.getElementById('user-database').classList.remove('hidden');
            
            const tableBody = document.getElementById('user-table-body');
            tableBody.innerHTML = '';
            
            usersDB.forEach(user => {
                const row = document.createElement('tr');
                row.className = 'border-b border-green-400';
                
                row.innerHTML = `
                    <td class="p-3">${user.id}</td>
                    <td class="p-3">${user.username}</td>
                    <td class="p-3">${user.name || '-'}</td>
                    <td class="p-3">${user.age || '-'}</td>
                    <td class="p-3">${getGenderName(user.gender)}</td>
                    <td class="p-3">${user.password}</td>
                    <td class="p-3">${user.level}</td>
                    <td class="p-3">${user.points}</td>
                `;
                
                tableBody.appendChild(row);
            });
        }
        
        function getGenderName(gender) {
            switch(gender) {
                case 'male': return '–ú—É–∂—Å–∫–æ–π';
                case 'female': return '–ñ–µ–Ω—Å–∫–∏–π';
                case 'other': return '–î—Ä—É–≥–æ–π';
                default: return '-';
            }
        }
        
        function showLifeSphere(sphereId) {
            currentSphere = sphereId;
            
            const sphere = lifeSpheres.find(s => s.id === sphereId);
            const userSphere = currentUser.spheres.find(s => s.id === sphereId);
            
            document.getElementById('user-dashboard').classList.add('hidden');
            document.getElementById('life-sphere').classList.remove('hidden');
            
            // –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ñ–µ—Ä—ã
            document.getElementById('sphere-title').textContent = sphere.name.toUpperCase();
            
            // –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            document.getElementById('sphere-current-text').value = userSphere.currentState || '';
            
            // –£—Ä–æ–≤–µ–Ω—å
            document.getElementById('sphere-level').value = userSphere.level || 0;
            document.getElementById('sphere-level-value').textContent = `${userSphere.level || 0}/10`;
            
            // –¶–µ–ª–∏
            loadSphereGoals();
            
            // –ó–∞–¥–∞—á–∏
            loadSphereTasks();
        }
        
        function loadHabits() {
            const habitTracker = document.querySelector('.habit-tracker');
            habitTracker.innerHTML = '';
            
            currentUser.habits.forEach((habit, index) => {
                const habitItem = document.createElement('div');
                habitItem.className = 'habit-item flex justify-between items-center';
                
                habitItem.innerHTML = `
                    <span>${habit.name}</span>
                    <input type="checkbox" class="habit-checkbox" data-index="${index}" ${habit.checked ? 'checked' : ''}>
                `;
                
                habitTracker.appendChild(habitItem);
            });
            
            // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è —á–µ–∫–±–æ–∫—Å–æ–≤
            document.querySelectorAll('.habit-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const index = parseInt(this.dataset.index);
                    currentUser.habits[index].checked = this.checked;
                    
                    // –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏
                    if (this.checked) {
                        currentUser.points += 5;
                        document.getElementById('user-points').textContent = `–û—á–∫–∏: ${currentUser.points}`;
                        checkLevelUp();
                    }
                    
                    saveUserData();
                });
            });
        }
        
        function loadTasks() {
            const tasksContainer = document.getElementById('sphere-tasks');
            tasksContainer.innerHTML = '';
            
            currentUser.tasks.forEach((task, index) => {
                const taskItem = document.createElement('div');
                taskItem.className = `task-item flex justify-between items-center mb-2 ${task.completed ? 'completed' : ''}`;
                
                taskItem.innerHTML = `
                    <span>${task.name}</span>
                    <input type="checkbox" class="habit-checkbox" data-index="${index}" ${task.completed ? 'checked' : ''}>
                `;
                
                tasksContainer.appendChild(taskItem);
            });
            
            // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è —á–µ–∫–±–æ–∫—Å–æ–≤ –∑–∞–¥–∞—á
            document.querySelectorAll('#sphere-tasks .habit-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const index = parseInt(this.dataset.index);
                    currentUser.tasks[index].completed = this.checked;
                    
                    // –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
                    if (this.checked) {
                        currentUser.points += 10;
                        document.getElementById('user-points').textContent = `–û—á–∫–∏: ${currentUser.points}`;
                        checkLevelUp();
                    }
                    
                    saveUserData();
                });
            });
        }
        
        function loadSphereGoals() {
            const goalsContainer = document.getElementById('sphere-goals');
            goalsContainer.innerHTML = '';
            
            const userSphere = currentUser.spheres.find(s => s.id === currentSphere);
            
            userSphere.goals.forEach((goal, index) => {
                const goalItem = document.createElement('div');
                goalItem.className = 'flex justify-between items-center mb-2';
                
                goalItem.innerHTML = `
                    <span>${goal}</span>
                    <button class="text-red-500 delete-goal" data-index="${index}">√ó</button>
                `;
                
                goalsContainer.appendChild(goalItem);
            });
            
            // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ü–µ–ª–µ–π
            document.querySelectorAll('.delete-goal').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.dataset.index);
                    const userSphere = currentUser.spheres.find(s => s.id === currentSphere);
                    userSphere.goals.splice(index, 1);
                    saveUserData();
                    loadSphereGoals();
                });
            });
        }
        
        function loadSphereTasks() {
            const tasksContainer = document.getElementById('sphere-tasks');
            tasksContainer.innerHTML = '';
            
            const userSphere = currentUser.spheres.find(s => s.id === currentSphere);
            
            userSphere.tasks.forEach((task, index) => {
                const taskItem = document.createElement('div');
                taskItem.className = `task-item flex justify-between items-center mb-2 ${task.completed ? 'completed' : ''}`;
                
                taskItem.innerHTML = `
                    <span>${task.name}</span>
                    <input type="checkbox" class="habit-checkbox" data-index="${index}" ${task.completed ? 'checked' : ''}>
                `;
                
                tasksContainer.appendChild(taskItem);
            });
            
            // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è —á–µ–∫–±–æ–∫—Å–æ–≤ –∑–∞–¥–∞—á
            document.querySelectorAll('#sphere-tasks .habit-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const index = parseInt(this.dataset.index);
                    const userSphere = currentUser.spheres.find(s => s.id === currentSphere);
                    userSphere.tasks[index].completed = this.checked;
                    
                    // –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
                    if (this.checked) {
                        currentUser.points += 15;
                        document.getElementById('user-points').textContent = `–û—á–∫–∏: ${currentUser.points}`;
                        checkLevelUp();
                    }
                    
                    saveUserData();
                });
            });
        }
        
        function saveDiary() {
            const entry = document.getElementById('diary-entry').value;
            
            if (entry.trim()) {
                const today = new Date().toISOString().split('T')[0];
                const existingEntryIndex = currentUser.diary.findIndex(e => e.date === today);
                
                if (existingEntryIndex >= 0) {
                    currentUser.diary[existingEntryIndex].text = entry;
                } else {
                    currentUser.diary.push({
                        date: today,
                        text: entry
                    });
                }
                
                // –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤ –∑–∞ –≤–µ–¥–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω–∏–∫–∞
                currentUser.points += 3;
                document.getElementById('user-points').textContent = `–û—á–∫–∏: ${currentUser.points}`;
                checkLevelUp();
                
                saveUserData();
                alert('–î–Ω–µ–≤–Ω–∏–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω');
            }
        }
        
        function savePointA() {
            const pointA = document.getElementById('point-a').value;
            currentUser.pointA = pointA;
            
            // –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –ê
            if (pointA.trim() && !currentUser.pointA) {
                currentUser.points += 20;
                document.getElementById('user-points').textContent = `–û—á–∫–∏: ${currentUser.points}`;
                checkLevelUp();
            }
            
            saveUserData();
            alert('–¢–æ—á–∫–∞ –ê —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞');
        }
        
        function savePointB() {
            const pointB = document.getElementById('point-b').value;
            currentUser.pointB = pointB;
            
            // –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –ë
            if (pointB.trim() && !currentUser.pointB) {
                currentUser.points += 20;
                document.getElementById('user-points').textContent = `–û—á–∫–∏: ${currentUser.points}`;
                checkLevelUp();
            }
            
            saveUserData();
            alert('–¢–æ—á–∫–∞ –ë —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞');
        }
        
        function addNewHabit() {
            const habitName = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø—Ä–∏–≤—ã—á–∫–∏:');
            
            if (habitName && habitName.trim()) {
                currentUser.habits.push({
                    name: habitName.trim(),
                    checked: false
                });
                
                saveUserData();
                loadHabits();
            }
        }
        
        function addNewTask() {
            const taskName = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏:');
            
            if (taskName && taskName.trim()) {
                currentUser.tasks.push({
                    name: taskName.trim(),
                    completed: false
                });
                
                saveUserData();
                loadTasks();
            }
        }
        
        function addSphereGoal() {
            const goalInput = document.getElementById('new-goal');
            const goal = goalInput.value.trim();
            
            if (goal) {
                const userSphere = currentUser.spheres.find(s => s.id === currentSphere);
                userSphere.goals.push(goal);
                
                // –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤ –∑–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–∏
                currentUser.points += 5;
                document.getElementById('user-points').textContent = `–û—á–∫–∏: ${currentUser.points}`;
                checkLevelUp();
                
                saveUserData();
                loadSphereGoals();
                goalInput.value = '';
            }
        }
        
        function saveUserData() {
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
            const userIndex = usersDB.findIndex(u => u.id === currentUser.id);
            if (userIndex >= 0) {
                usersDB[userIndex] = currentUser;
                localStorage.setItem('usersDB', JSON.stringify(usersDB));
            }
        }
        
        function checkLevelUp() {
            const pointsForNextLevel = currentUser.level * 100;
            
            if (currentUser.points >= pointsForNextLevel) {
                currentUser.level += 1;
                document.getElementById('user-level').textContent = `–£—Ä–æ–≤–µ–Ω—å: ${currentUser.level}`;
                document.getElementById('character-level').textContent = `–£—Ä–æ–≤–µ–Ω—å: ${currentUser.level}`;
                
                alert(`–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ —É—Ä–æ–≤–Ω—è ${currentUser.level}!`);
                saveUserData();
            }
        }
    </script>
</body>
</html>
